<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
"http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="gacha.mapper.LoginMapper">

	<!-- ðŸ“Œ ê³„ì •ìœ¼ë¡œ ì •ë³´ì°¾ê¸°  -->
	<select id="getUserInfoById" parameterType="String" resultType="gacha.model.UserInfo">
    	SELECT user_id, name, email, reg_date, profile_image
   		FROM user_info
    	WHERE user_id = #{userId}
	</select>
	
	
	<!-- ðŸ“Œ ë¹„ë°€ë²ˆí˜¸ ë³€ê²½  -->
	<update id="updateUserPwd" parameterType="gacha.model.UserInfo">
	update user_info set user_pwd=#{user_pwd} where user_id=#{user_id}
	</update>
	
    <!-- ðŸ“Œ ë¡œê·¸ì¸ ì‚¬ìš©ìž ì¡°íšŒ -->
    <select id="getUser" parameterType="gacha.model.LoginUser" 
        resultType="gacha.model.LoginUser">
        SELECT user_id, user_pwd 
        FROM user_info 
        WHERE user_id = #{user_id} AND user_pwd = #{user_pwd}
    </select>

    <!-- ðŸ“Œ ì•„ì´ë”” ì°¾ê¸°: ì´ë©”ì¼ê³¼ ë‹‰ë„¤ìž„ì„ ì´ìš©í•´ ì•„ì´ë”” ì¡°íšŒ -->
    <select id="findUserId" parameterType="gacha.model.UserInfo" 
        resultType="string">
        SELECT user_id 
        FROM user_info 
        WHERE email = #{email} AND name = #{name}
    </select>

    <!-- ðŸ“Œ ë¹„ë°€ë²ˆí˜¸ ì°¾ê¸°: ì´ë©”ì¼, ë‹‰ë„¤ìž„, ì•„ì´ë””ê°€ ì¼ì¹˜í•˜ëŠ” ê²½ìš° ë¹„ë°€ë²ˆí˜¸ ë°˜í™˜ -->
    <select id="findUserPwd" parameterType="gacha.model.UserInfo" 
        resultType="string">
        SELECT user_pwd 
        FROM user_info 
        WHERE email = #{email} AND name = #{name} AND user_id = #{user_id}
    </select>

</mapper>